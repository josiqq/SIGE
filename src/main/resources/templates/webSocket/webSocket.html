<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec = " http://www.thymeleaf.org/extras/spring-security5"
	layout:decorate="~{padron}"
	xmlns:data="http://www.thymeleaf.org/extras/data">
<head>
    <title>WebSocket</title>
</head>
<th:block  layout:fragment="javascript-extra">
    <script type="text/javascript">
        var socket = new WebSocket("ws://localhost:8080/websocket");
 
        socket.onopen = function() {
            console.log("Conexión establecida");
            socket.send("¡Hola, servidor!");
        };
 
        socket.onmessage = function(event) {
            console.log("Mensaje recibido: " , event.data);
        };
 		
        socket.onclose = function(event) {
            console.log("Conexión cerrada");
        };
 
        socket.onerror = function(error) {
            console.log("Error: " + error);
        };
    </script>
</th:block>  
</html>
